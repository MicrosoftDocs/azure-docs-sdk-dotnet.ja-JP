---
title: "Azure App Service への ASP.NET Web アプリケーションの移行"
description: "ASP.NET Web アプリケーションをオンプレミスから Azure App Service に移行する方法について説明します。"
keywords: "Azure .NET, ASP.NET, App Service, Web アプリ, 移行する, 移行"
author: camsoper
manager: wpickett
ms.author: casoper
ms.date: 11/15/2017
ms.topic: article
ms.technology: azure
ms.devlang: dotnet
ms.service: app-service
ms.custom: devcenter
ms.openlocfilehash: 8ad1bcd11a823c1b6f7e592a5990dd6f7ed06e97
ms.sourcegitcommit: ccc95adb96cf7d56ebce5e09bedf10c2d48f5e1f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/21/2017
---
# <a name="migrate-an-aspnet-web-application-to-azure-app-service"></a><span data-ttu-id="f64c2-104">Azure App Service への ASP.NET Web アプリケーションの移行</span><span class="sxs-lookup"><span data-stu-id="f64c2-104">Migrate an ASP.NET web application to Azure App Service</span></span>

<span data-ttu-id="f64c2-105">[App Service](https://docs.microsoft.com/azure/app-service/app-service-web-overview#why-use-web-apps) は、スケーラブルな Web サイトと Web アプリケーションをホストするために最適化された、完全に管理されたコンピューティング プラットフォーム サービスです。</span><span class="sxs-lookup"><span data-stu-id="f64c2-105">[App Service](https://docs.microsoft.com/azure/app-service/app-service-web-overview#why-use-web-apps) is a fully-managed compute platform service that is optimized for hosting scalable websites and web applications.</span></span> <span data-ttu-id="f64c2-106">このドキュメントでは、既存のアプリケーションを Azure App Service にリフトアンドシフトする方法、考慮すべき変更、クラウドへの移行に関するその他のリソースについて説明します。</span><span class="sxs-lookup"><span data-stu-id="f64c2-106">This document provides information on how to lift-and-shift an existing application to Azure App Service, modifications to consider, and additional resources for moving to the cloud.</span></span>

<span data-ttu-id="f64c2-107">使い始める準備はできていますか。</span><span class="sxs-lookup"><span data-stu-id="f64c2-107">Ready to get started?</span></span> <span data-ttu-id="f64c2-108">[ASP.NET および SQL アプリケーションを Azure App Service に発行](https://go.microsoft.com/fwlink/?linkid=863214)します。</span><span class="sxs-lookup"><span data-stu-id="f64c2-108">[Publish your ASP.NET + SQL application to Azure App Service](https://go.microsoft.com/fwlink/?linkid=863214).</span></span>

# <a name="preparation"></a><span data-ttu-id="f64c2-109">準備</span><span class="sxs-lookup"><span data-stu-id="f64c2-109">Preparation</span></span>   
* [<span data-ttu-id="f64c2-110">アプリが App Service に適しているかどうかを判断する方法</span><span class="sxs-lookup"><span data-stu-id="f64c2-110">How to determine if your app qualifies for App Service</span></span>](https://azure.microsoft.com/downloads/migration-assistant/)
* [<span data-ttu-id="f64c2-111">クラウドへのデータベースの移行</span><span class="sxs-lookup"><span data-stu-id="f64c2-111">Moving your database to the cloud</span></span>](https://go.microsoft.com/fwlink/?linkid=863217)

# <a name="considerations"></a><span data-ttu-id="f64c2-112">考慮事項</span><span class="sxs-lookup"><span data-stu-id="f64c2-112">Considerations</span></span>
<span data-ttu-id="f64c2-113">アプリケーションを移行する前に、考慮する必要がある要素がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="f64c2-113">There are several factors you must consider before migrating your application.</span></span> <span data-ttu-id="f64c2-114">アプリケーションに必要となる可能性のある変更とその方法を以下に示します。</span><span class="sxs-lookup"><span data-stu-id="f64c2-114">Below is a list of potential modifications you might have to make to your application, and how to go about doing them.</span></span>

## <a name="sql-database-configuration"></a><span data-ttu-id="f64c2-115">SQL Database の構成</span><span class="sxs-lookup"><span data-stu-id="f64c2-115">SQL Database configuration</span></span>
<span data-ttu-id="f64c2-116">アプリケーションがオンプレミス データベースを使用している場合、Web アプリ用のオプションがいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="f64c2-116">If your application is using an on-premises database, you have several options for your web app.</span></span> <span data-ttu-id="f64c2-117">Azure への SQL Database の移行の詳細については、[こちら](https://go.microsoft.com/fwlink/?linkid=863217)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="f64c2-117">[Read more about migrating SQL databases to Azure](https://go.microsoft.com/fwlink/?linkid=863217).</span></span>

## <a name="iis"></a><span data-ttu-id="f64c2-118">IIS</span><span class="sxs-lookup"><span data-stu-id="f64c2-118">IIS</span></span>
<span data-ttu-id="f64c2-119">従来、アプリケーションの applicationHost.config で構成していたあらゆるものを、Azure Portal で構成できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="f64c2-119">Everything traditionally configured via applicationHost.config in your application can now be configured through the Azure portal.</span></span> <span data-ttu-id="f64c2-120">AppPool のビット、WebSocket の有効化/無効化、マネージ パイプライン バージョン、.NET Framework バージョン (2.0/4.0) などがこれに該当します。[アプリケーション設定](https://docs.microsoft.com/en-us/azure/app-service/web-sites-configure)を変更するには、[Azure Portal](https://portal.azure.com) に移動し、Web アプリのブレードを開いて、**[アプリケーションの設定]** タブを選択します。</span><span class="sxs-lookup"><span data-stu-id="f64c2-120">This applies to AppPool bitness, enable/disable websockets, managed pipeline version, .NET Framework version (2.0/4.0), etc. To modify your [application settings](https://docs.microsoft.com/en-us/azure/app-service/web-sites-configure), navigate to the [Azure portal](https://portal.azure.com), open the blade for your web app, and then select the **Application Settings** tab.</span></span>

## <a name="authentication"></a><span data-ttu-id="f64c2-121">認証</span><span class="sxs-lookup"><span data-stu-id="f64c2-121">Authentication</span></span>
<span data-ttu-id="f64c2-122">アプリケーションがいずれかの時点でユーザーを認証する場合、アプリケーションを Azure Web Apps にデプロイした後に動作するように、この機能を変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f64c2-122">If your application authenticates users at any point, you will have to modify this functionality to work once the application deployed on Azure Web Apps.</span></span> <span data-ttu-id="f64c2-123">考えられる 1 つの方法として、Azure AD Connect を使用して、オンプレミスのディレクトリを Azure Active Directory と統合します。</span><span class="sxs-lookup"><span data-stu-id="f64c2-123">One possibility is to use Azure AD Connect to integrate your on-premises directories with Azure Active Directory.</span></span> <span data-ttu-id="f64c2-124">オンプレミスのディレクトリを Azure Active Directory と統合する方法の詳細については、[こちら](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="f64c2-124">[Learn more about how to integrate your on-premises directories with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect).</span></span>

## <a name="virtual-network-modification"></a><span data-ttu-id="f64c2-125">仮想ネットワークの変更</span><span class="sxs-lookup"><span data-stu-id="f64c2-125">Virtual Network Modification</span></span>
<span data-ttu-id="f64c2-126">複数の Azure サービスを使用する場合は、それらのサービス間で安全に通信するために仮想ネットワークの使用を検討します。</span><span class="sxs-lookup"><span data-stu-id="f64c2-126">If you use more than one Azure service you may consider using a virtual network to securely communicate between these services.</span></span> <span data-ttu-id="f64c2-127">VPN または ExpressRoute を使用して、オンプレミス ネットワークから [Azure Virtual Network](https://docs.microsoft.com/en-us/azure/app-service/web-sites-integrate-with-vnet) への接続を構成できます。</span><span class="sxs-lookup"><span data-stu-id="f64c2-127">You can configure a connection from your on-premises network to an [Azure Virtual Network](https://docs.microsoft.com/en-us/azure/app-service/web-sites-integrate-with-vnet) using VPN or ExpressRoute.</span></span>

## <a name="monitoring-and-diagnostics"></a><span data-ttu-id="f64c2-128">Monitoring and Diagnostics</span><span class="sxs-lookup"><span data-stu-id="f64c2-128">Monitoring and Diagnostics</span></span>
<span data-ttu-id="f64c2-129">監視と診断に現在使用しているオンプレミスのソリューションは、クラウドでは機能しない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f64c2-129">Your current on-premises solutions for monitoring and diagnostics are unlikely to work in the cloud.</span></span> <span data-ttu-id="f64c2-130">ただし、Web アプリでの問題を特定し、デバッグできるように、Azure には、ログ記録、監視、診断用のツールが用意されています。</span><span class="sxs-lookup"><span data-stu-id="f64c2-130">However, Azure provides tools for logging, monitoring, and diagnostics so that you can identify and debug issues with web apps.</span></span> <span data-ttu-id="f64c2-131">Web アプリの診断は、アプリの構成で簡単に有効にすることができます。また、記録されたログは、Azure Application Insights で表示できます。</span><span class="sxs-lookup"><span data-stu-id="f64c2-131">You can easily enable diagnostics for your web app in its configuration, and you can view the logs recorded in Azure Application Insights.</span></span> <span data-ttu-id="f64c2-132">Web アプリの診断ログの有効化の詳細については、[こちら](https://docs.microsoft.com/azure/app-service/web-sites-enable-diagnostic-log)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="f64c2-132">[Learn more about enabling diagnostics logging for web apps](https://docs.microsoft.com/azure/app-service/web-sites-enable-diagnostic-log).</span></span>

## <a name="connection-strings-and-application-settings"></a><span data-ttu-id="f64c2-133">接続文字列とアプリケーション設定</span><span class="sxs-lookup"><span data-stu-id="f64c2-133">Connection Strings and application settings</span></span>
<span data-ttu-id="f64c2-134">情報を保護する 1 つの方法として、[Azure KeyVault](https://docs.microsoft.com/azure/key-vault/) を使用します。これは、アプリケーションで使用される機密情報を安全に格納するサービスです。</span><span class="sxs-lookup"><span data-stu-id="f64c2-134">One option for keeping information safe is to use [Azure KeyVault](https://docs.microsoft.com/azure/key-vault/), a service that securely stores sensitive information used in your application.</span></span> <span data-ttu-id="f64c2-135">また、このデータを App Service 設定として保存することもできます。</span><span class="sxs-lookup"><span data-stu-id="f64c2-135">Alternatively, you can store this data as an App Service setting.</span></span>

## <a name="dns"></a><span data-ttu-id="f64c2-136">DNS</span><span class="sxs-lookup"><span data-stu-id="f64c2-136">DNS</span></span>
<span data-ttu-id="f64c2-137">アプリケーションの要件に基づいて、DNS 構成を更新することが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="f64c2-137">You may need to update DNS configurations based on the requirements of your application.</span></span> <span data-ttu-id="f64c2-138">これらの DNS 設定は、App Service の[カスタム ドメイン設定](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-domain)で構成できます。</span><span class="sxs-lookup"><span data-stu-id="f64c2-138">These DNS settings can be configured in the App Service [custom domain settings](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-domain).</span></span> <span data-ttu-id="f64c2-139">考慮すべきもう 1 つの要素は、[既存のカスタム SSL 証明書のバインド](https://docs.microsoft.com/en-us/azure/app-service/app-service-web-tutorial-custom-ssl)です。</span><span class="sxs-lookup"><span data-stu-id="f64c2-139">Another factor to consider is [binding an existing custom SSL certificate](https://docs.microsoft.com/en-us/azure/app-service/app-service-web-tutorial-custom-ssl).</span></span>

## <a name="file-system-and-storage"></a><span data-ttu-id="f64c2-140">ファイル システムとストレージ</span><span class="sxs-lookup"><span data-stu-id="f64c2-140">File system and Storage</span></span>
<span data-ttu-id="f64c2-141">アプリケーションでデータを保持する場合は、代わりに Azure Storage を使用するようにアプリケーションを更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f64c2-141">If your application persists data, you will need to update it to use Azure Storage instead.</span></span> <span data-ttu-id="f64c2-142">Azure Storage は、SMB プロトコル、Blob Storage、単純キュー、非リレーショナル テーブルを使用した共有のためのファイル共有を提供するサービスです。</span><span class="sxs-lookup"><span data-stu-id="f64c2-142">Azure Storage is a service that provides file shares for sharing via SMB protocol, blob storage, simple queues, and non-relational tables.</span></span> <span data-ttu-id="f64c2-143">Azure Storage のファイル共有の詳細については、[こちら](https://docs.microsoft.com/azure/storage/files/storage-files-introduction)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="f64c2-143">[Learn more about Azure Storage file shares](https://docs.microsoft.com/azure/storage/files/storage-files-introduction).</span></span>

## <a name="next-steps"></a><span data-ttu-id="f64c2-144">次のステップ</span><span class="sxs-lookup"><span data-stu-id="f64c2-144">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="f64c2-145">Azure App Service への ASP.NET Web アプリケーションの移行</span><span class="sxs-lookup"><span data-stu-id="f64c2-145">Migrate an ASP.NET Web application to Azure App Service</span></span>](https://aka.ms/azure-webapp-migrate)
