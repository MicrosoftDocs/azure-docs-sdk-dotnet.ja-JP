---
title: 適切な Azure ホスティング オプションの選択
description: ASP.NET Web アプリケーションに適した Azure への移行パスについて説明します。
author: CESARDELATORRE
ms.author: cesardl
ms.date: 11/15/2017
ms.openlocfilehash: 7c0d10436efa86c3d4a60f80e2eebd935ee01cee
ms.sourcegitcommit: 5d9b713653b3d03e1d0a67f6e126ee399d1c2a60
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/26/2018
ms.locfileid: "47190615"
---
# <a name="choose-the-right-azure-hosting-option"></a><span data-ttu-id="a8be1-103">適切な Azure ホスティング オプションの選択</span><span class="sxs-lookup"><span data-stu-id="a8be1-103">Choose the right Azure hosting option</span></span>

<span data-ttu-id="a8be1-104">このドキュメントでは、既存の .NET Framework アプリケーションをオンプレミスから Azure に移行する際の考慮事項について説明し、Azure における複数の選択肢を比較します。</span><span class="sxs-lookup"><span data-stu-id="a8be1-104">This document provides multiple considerations and comparisons between the multiple choices you have in Azure when migrating your existing .NET Framework applications from on-premises to Azure.</span></span>

<span data-ttu-id="a8be1-105">既存の .NET アプリケーションを Azure に移行する際に考慮すべき基本的な領域は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="a8be1-105">The fundamental areas to consider when migrating existing .NET applications to Azure are:</span></span>

1.  <span data-ttu-id="a8be1-106">コンピューティングの選択肢</span><span class="sxs-lookup"><span data-stu-id="a8be1-106">Compute choices</span></span>
2.  <span data-ttu-id="a8be1-107">データベースの選択肢</span><span class="sxs-lookup"><span data-stu-id="a8be1-107">Database choices</span></span>
3.  <span data-ttu-id="a8be1-108">ネットワークとセキュリティに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="a8be1-108">Networking and security considerations</span></span>
4.  <span data-ttu-id="a8be1-109">認証と承認に関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="a8be1-109">Authentication and authorization considerations</span></span>

## <a name="compute-choices"></a><span data-ttu-id="a8be1-110">コンピューティングの選択肢</span><span class="sxs-lookup"><span data-stu-id="a8be1-110">Compute choices</span></span>

<span data-ttu-id="a8be1-111">既存の .NET Framework アプリケーションを Azure に移行する場合、複数の選択肢があります。</span><span class="sxs-lookup"><span data-stu-id="a8be1-111">When migrating existing .NET Framework applications to Azure you have multiple choices.</span></span>  <span data-ttu-id="a8be1-112">ただし、.NET Framework は Windows に依存しているため、次の選択肢は Windows ベースのコンピューティング サービスに限定されます。</span><span class="sxs-lookup"><span data-stu-id="a8be1-112">However, since .NET Framework depends on Windows, the following choices are limited to Windows-based compute services.</span></span>

<span data-ttu-id="a8be1-113">既存の .NET アプリケーションに適したコンピューティング移行パスの選択に役立つ、比較と推奨事項を次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="a8be1-113">The following table shows several comparisons and recommendations to help you choose the right compute migration path for your existing .NET application.</span></span>

|                 | <span data-ttu-id="a8be1-114">Azure VM</span><span class="sxs-lookup"><span data-stu-id="a8be1-114">Azure VMs</span></span> | <span data-ttu-id="a8be1-115">Azure App Service</span><span class="sxs-lookup"><span data-stu-id="a8be1-115">Azure App Service</span></span> | <span data-ttu-id="a8be1-116">Windows コンテナー</span><span class="sxs-lookup"><span data-stu-id="a8be1-116">Windows Containers</span></span> |
|-----------------|-----------|-------------------|--------------------|
|<span data-ttu-id="a8be1-117">いつ使用するか</span><span class="sxs-lookup"><span data-stu-id="a8be1-117">When to use</span></span>      |<ul><li><span data-ttu-id="a8be1-118">アプリケーションに、サーバーとローカルの .msi インストール ファイルに対する強固な依存関係がある場合。</span><span class="sxs-lookup"><span data-stu-id="a8be1-118">Application has strong dependencies on the server and local .msi installations.</span></span></li><li><span data-ttu-id="a8be1-119">最も簡単なアプリケーション移行パスを必要としている場合。</span><span class="sxs-lookup"><span data-stu-id="a8be1-119">You want to easiest application migration path</span></span></li></ul>|<span data-ttu-id="a8be1-120">アプリにサーバーに対する依存関係がなく、データベース サーバーにアクセスするクリーンな ASP.NET Web アプリ (MVC、WebForm) または N 層アプリ (Web API、WCf) である場合。</span><span class="sxs-lookup"><span data-stu-id="a8be1-120">App has no dependencies on the server, it is just a clean ASP.NET web app (MVC, WebForm) or N-Tier app (Web API, WCf) accessing a database server.</span></span> |<ul><li><span data-ttu-id="a8be1-121">アプリケーションに元のサーバーに対する依存関係があるが、それらの依存関係を Docker の Windows イメージに含めることができる場合。</span><span class="sxs-lookup"><span data-stu-id="a8be1-121">Application has dependencies on the original server but those dependencies can be included in the Docker Windows image.</span></span></li><li><span data-ttu-id="a8be1-122">アプリを最新化して、[クラウド DevOps 対応](https://docs.microsoft.com/dotnet/standard/modernize-with-azure-and-containers/lift-and-shift-existing-apps-devops/reasons-to-lift-and-shift-existing-net-apps-to-cloud-devops-ready-applications)にする場合。</span><span class="sxs-lookup"><span data-stu-id="a8be1-122">Want to modernize the app so it is [Cloud DevOps-Ready](https://docs.microsoft.com/dotnet/standard/modernize-with-azure-and-containers/lift-and-shift-existing-apps-devops/reasons-to-lift-and-shift-existing-net-apps-to-cloud-devops-ready-applications)</span></span></li></ul>|
|<span data-ttu-id="a8be1-123">長所</span><span class="sxs-lookup"><span data-stu-id="a8be1-123">Pros & benefits</span></span>  |<ul><li><span data-ttu-id="a8be1-124">最も簡単な移行パス。</span><span class="sxs-lookup"><span data-stu-id="a8be1-124">Easiest migration path</span></span></li><li><span data-ttu-id="a8be1-125">使い慣れた環境。</span><span class="sxs-lookup"><span data-stu-id="a8be1-125">Familiar environment.</span></span> <span data-ttu-id="a8be1-126">デプロイ環境は、オンプレミス サーバーとほぼ同じ VM。</span><span class="sxs-lookup"><span data-stu-id="a8be1-126">Deployment environment is a VM so very similar to on-premises servers.</span></span></li></ul> |<span data-ttu-id="a8be1-127">PaaS の継続的なメンテナンス、Azure でアプリを管理およびスケールする最も簡単な方法。</span><span class="sxs-lookup"><span data-stu-id="a8be1-127">Ongoing PaaS maintenance, simplest way to manage and scale apps in Azure.</span></span> |<ul><li><span data-ttu-id="a8be1-128">将来に備えて、アプリのコンテナーに依存関係が含まれているクラウド DevOps 対応。</span><span class="sxs-lookup"><span data-stu-id="a8be1-128">Prepared for the future, Cloud DevOps-Ready with dependencies included in the app’s containers.</span></span></li><li><span data-ttu-id="a8be1-129">.NET/C# コードのリファクタリングがほとんど不要。</span><span class="sxs-lookup"><span data-stu-id="a8be1-129">Almost no need to re-factor .NET /C# code.</span></span></li></ul> |
|<span data-ttu-id="a8be1-130">短所</span><span class="sxs-lookup"><span data-stu-id="a8be1-130">Cons</span></span>             |<span data-ttu-id="a8be1-131">IaaS。</span><span class="sxs-lookup"><span data-stu-id="a8be1-131">It is IaaS.</span></span> <span data-ttu-id="a8be1-132">メンテナンスにコストがかかる。</span><span class="sxs-lookup"><span data-stu-id="a8be1-132">Maintenance is costly.</span></span> <span data-ttu-id="a8be1-133">ネットワーク、ロード バランサー、スケールアウト、IIS 管理などについて VM インフラストラクチャを管理する必要がある。</span><span class="sxs-lookup"><span data-stu-id="a8be1-133">You have to manage VMs infrastructure about networking, load-balancer, scale-out, IIS management, etc.</span></span> |<ul><li><span data-ttu-id="a8be1-134">すべてのアプリが[サポート](http://www.migratetoazure.net/ReadinessAssessment)されているわけではない。</span><span class="sxs-lookup"><span data-stu-id="a8be1-134">Not all apps are [supported](http://www.migratetoazure.net/ReadinessAssessment)</span></span></li><li><span data-ttu-id="a8be1-135">一部のアプリでは、Azure App Service をサポートするために、リファクタリングと若干の再設計が必要。</span><span class="sxs-lookup"><span data-stu-id="a8be1-135">Some apps might need to be refactored and even slightly re-architected, so they support Azure App Service.</span></span></li></ul> |<ul><li><span data-ttu-id="a8be1-136">Docker のスキルの学習曲線。</span><span class="sxs-lookup"><span data-stu-id="a8be1-136">Docker’s skills learning curve</span></span></li><li><span data-ttu-id="a8be1-137">一部のコードとアプリ構成設定の変更。</span><span class="sxs-lookup"><span data-stu-id="a8be1-137">Some code and app configuration settings changes</span></span></li></ul>|
|<span data-ttu-id="a8be1-138">必要条件</span><span class="sxs-lookup"><span data-stu-id="a8be1-138">Requirements</span></span> |<span data-ttu-id="a8be1-139">オンプレミスのアプリと同じ要件の Windows Server VM</span><span class="sxs-lookup"><span data-stu-id="a8be1-139">Windows Server VM with the same requirements than the app for on-premises</span></span> | <span data-ttu-id="a8be1-140">[Azure App Service の互換性の分析](https://www.migratetoazure.net/Resources)に関するページで指定されている Azure App Service の要件</span><span class="sxs-lookup"><span data-stu-id="a8be1-140">Azure App Service requirements specified at the [Compatibility analysis for Azure App Service](https://www.migratetoazure.net/Resources).</span></span> |<ul><li>[<span data-ttu-id="a8be1-141">Windows Server 2016 with Containers - Azure VM</span><span class="sxs-lookup"><span data-stu-id="a8be1-141">Windows Server 2016 with Containers - Azure VM</span></span>](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.WindowsServer?tab=Overview)<br /><span data-ttu-id="a8be1-142">or</span><span class="sxs-lookup"><span data-stu-id="a8be1-142">or</span></span></li><li><span data-ttu-id="a8be1-143">[Azure Container Service (AKS)](https://azure.microsoft.com/services/container-service/) (Kubernetes オーケストレーター)</span><span class="sxs-lookup"><span data-stu-id="a8be1-143">[Azure Container Service (AKS)](https://azure.microsoft.com/services/container-service/) (That is Kubernetes orchestrator)</span></span><br /><span data-ttu-id="a8be1-144">or</span><span class="sxs-lookup"><span data-stu-id="a8be1-144">or</span></span><li><span data-ttu-id="a8be1-145">[Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/) オーケストレーター</span><span class="sxs-lookup"><span data-stu-id="a8be1-145">[Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/) orchestrator</span></span></li></ul> |
|<span data-ttu-id="a8be1-146">移行方法</span><span class="sxs-lookup"><span data-stu-id="a8be1-146">How to migrate</span></span> |<span data-ttu-id="a8be1-147">[Azure 仮想マシンへの移行](https://go.microsoft.com/fwlink/?linkid=862531)に関する記事を参照</span><span class="sxs-lookup"><span data-stu-id="a8be1-147">See [Migrate to Azure Virtual Machines](https://go.microsoft.com/fwlink/?linkid=862531)</span></span> | <span data-ttu-id="a8be1-148">[Azure App Service](https://go.microsoft.com/fwlink/?linkid=862532) への移行に関する記事を参照</span><span class="sxs-lookup"><span data-stu-id="a8be1-148">See [Migrate Azure App Service](https://go.microsoft.com/fwlink/?linkid=862532)</span></span> | <span data-ttu-id="a8be1-149">[Azure と Windows コンテナーによる既存の .NET アプリの最新化に関する電子ブック](https://aka.ms/liftandshiftwithcontainersebook)で説明する考慮事項、シナリオ、チュートリアルを参照</span><span class="sxs-lookup"><span data-stu-id="a8be1-149">Follow considerations, scenarios and walkthroughs explained in the [Modernizing existing .NET apps with Azure and Windows Containers eBook](https://aka.ms/liftandshiftwithcontainersebook)</span></span> |

 <span data-ttu-id="a8be1-150">次のフローチャート図は、既存の .NET Framework アプリケーションの Azure への移行を計画する際のデシジョン ツリーを示しています。オプション A は実行可能な場合に最初に試してみるものであり、オプション B は最も実行しやすいパスです。</span><span class="sxs-lookup"><span data-stu-id="a8be1-150">The following flowchart diagram shows a decision tree when planning a migration to Azure for your existing .NET Framework applications, being option A the first option to try and perform if it is viable, but option B the easiest path to perform.</span></span>

![ホスティングのデシジョン ツリーを示すフローチャート](media/dotnet-howto-choose-migration/decision-tree.png)

## <a name="database-choices"></a><span data-ttu-id="a8be1-152">データベースの選択肢</span><span class="sxs-lookup"><span data-stu-id="a8be1-152">Database choices</span></span>

<span data-ttu-id="a8be1-153">リレーショナル データベースを Azure に移行する場合、複数の選択肢があります。</span><span class="sxs-lookup"><span data-stu-id="a8be1-153">When migrating relational databases to Azure you have multiple choices.</span></span> <span data-ttu-id="a8be1-154">既存の .NET アプリケーションに適したデータベース移行パスの選択については、[Azure への SQL Server データベースの移行](https://go.microsoft.com/fwlink/?linkid=862533)に関する記事をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a8be1-154">See [Migrate your SQL Server database to Azure](https://go.microsoft.com/fwlink/?linkid=862533) to help you choose the right database migration path for your existing .NET application.</span></span>

## <a name="networking-and-security-considerations"></a><span data-ttu-id="a8be1-155">ネットワークとセキュリティに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="a8be1-155">Networking and security considerations</span></span>

<span data-ttu-id="a8be1-156">Microsoft Azure のようなパブリック クラウドにアプリケーションをデプロイする場合、[Azue とオンプレミスの間の DMZ](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-hybrid) や、[Azure とインターネットの間の DMZ](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-dmz) など、[ネットワーク DMZ を作成](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/)して特定のネットワークを分離し、セキュリティで保護することができます。</span><span class="sxs-lookup"><span data-stu-id="a8be1-156">When deploying applications to a public cloud like Microsoft Azure, you might want to isolate and secure certain networks by [creating network DMZs](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/), such as a [DMZ between Azure and on-premises](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-hybrid) or a [DMZ between Azure and the Internet](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-dmz).</span></span> <span data-ttu-id="a8be1-157">DMZ は、[Azure Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) を使用して実装できます。</span><span class="sxs-lookup"><span data-stu-id="a8be1-157">DMZs can be implemented with [Azure Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview).</span></span>
<span data-ttu-id="a8be1-158">Azure Virtual Network を使用すると、次のことが可能になります。</span><span class="sxs-lookup"><span data-stu-id="a8be1-158">Azure Virtual networks enable you to:</span></span>

- <span data-ttu-id="a8be1-159">制御可能なハイブリッド インフラストラクチャを構築する</span><span class="sxs-lookup"><span data-stu-id="a8be1-159">Build a hybrid infrastructure that you control</span></span>
- <span data-ttu-id="a8be1-160">独自の IP アドレスと DNS サーバーを使用する</span><span class="sxs-lookup"><span data-stu-id="a8be1-160">Bring your own IP addresses and DNS servers</span></span>
- <span data-ttu-id="a8be1-161">IPsec VPN または ExpressRoute を使用して接続をセキュリティで保護する</span><span class="sxs-lookup"><span data-stu-id="a8be1-161">Secure your connections with an IPsec VPN or ExpressRoute</span></span>
- <span data-ttu-id="a8be1-162">サブネット間のトラフィックをきめ細かく制御する</span><span class="sxs-lookup"><span data-stu-id="a8be1-162">Get granular control over traffic between subnets</span></span>
- <span data-ttu-id="a8be1-163">仮想アプライアンスを使用して高度なネットワーク トポロジを作成する</span><span class="sxs-lookup"><span data-stu-id="a8be1-163">Create sophisticated network topologies using virtual appliances</span></span>
- <span data-ttu-id="a8be1-164">アプリケーション用に安全性の高い分離された環境を実現する</span><span class="sxs-lookup"><span data-stu-id="a8be1-164">Get an isolated and highly-secure environment for your applications</span></span>
 
<span data-ttu-id="a8be1-165">独自の仮想ネットワークの構築を開始するには、[Azure Virtual Network のドキュメント](https://docs.microsoft.com/azure/virtual-network/)に関するページをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a8be1-165">To get started building your own virtual network, see the [Azure Virtual Network documentation](https://docs.microsoft.com/azure/virtual-network/).</span></span>

## <a name="authentication-and-authorization-considerations-when-migrating-to-azure"></a><span data-ttu-id="a8be1-166">Azure に移行する際の認証と承認に関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="a8be1-166">Authentication and authorization considerations when migrating to Azure</span></span>

<span data-ttu-id="a8be1-167">クラウドに移行する組織の最大の懸念事項はセキュリティです。</span><span class="sxs-lookup"><span data-stu-id="a8be1-167">A top concern of any organization moving to the cloud is security.</span></span> <span data-ttu-id="a8be1-168">ほとんどの企業が、セキュリティ モデルの設計と開発にかなりの時間、資金、エンジニアリングを投資しており、ID ストアやシングル サインオン ソリューションなどの既存の投資を活用できることが重要です。</span><span class="sxs-lookup"><span data-stu-id="a8be1-168">Most companies have invested a substantial amount of time, money, and engineering into designing and developing a security model, and it’s important that they’re able to leverage existing investments such as identity stores and single sign-on solutions.</span></span>

<span data-ttu-id="a8be1-169">オンプレミスで実行されている多くの既存のエンタープライズ B2E .NET アプリケーションでは、認証と ID 管理に Active Directory を使用しています。</span><span class="sxs-lookup"><span data-stu-id="a8be1-169">Many existing enterprise B2E .NET applications running on-premises use Active Directory for authentication and identity management.</span></span>  <span data-ttu-id="a8be1-170">Azure AD Connect を使用すると、オンプレミスのディレクトリを Azure Active Directory と統合できます。</span><span class="sxs-lookup"><span data-stu-id="a8be1-170">Azure AD Connect enables you to integrate your on-premises directories with Azure Active Directory.</span></span>  <span data-ttu-id="a8be1-171">作業を開始するには、「[オンプレミスのディレクトリと Azure Active Directory の統合](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a8be1-171">To get started, see [Integrate your on-premises directories with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect).</span></span>

<span data-ttu-id="a8be1-172">Azure Active Directory に関する詳細な計画については、[ハイブリッド ID ソリューションの ID 要件](https://docs.microsoft.com/azure/active-directory/active-directory-hybrid-identity-design-considerations-business-needs)に関する記事をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a8be1-172">See [Identity requirements for your hybrid identity solution](https://docs.microsoft.com/azure/active-directory/active-directory-hybrid-identity-design-considerations-business-needs) for further planning related to Azure Active Directory.</span></span>

<span data-ttu-id="a8be1-173">認証プロトコルの他の選択として、コンシューマー向けのアプリケーションで一般的な [OAuth](https://en.wikipedia.org/wiki/OAuth) と [OpenID](https://en.wikipedia.org/wiki/OpenID) があります。</span><span class="sxs-lookup"><span data-stu-id="a8be1-173">Other authentication protocol choices are [OAuth](https://en.wikipedia.org/wiki/OAuth) and [OpenID](https://en.wikipedia.org/wiki/OpenID), which are common in consumer-facing applications.</span></span>  <span data-ttu-id="a8be1-174">OAuth を使用する IdentityServer4 によってラップされた ASP.NET Identity SQL データベースなど、自律的な ID データベースを使用する場合は、通常、オンプレミスのデータベースやディレクトリへの接続は不要です。</span><span class="sxs-lookup"><span data-stu-id="a8be1-174">When using autonomous identity databases, such as an ASP.NET Identity SQL database wrapped by IdentityServer4 using OAuth, no connectivity to on-premises databases or directories is usually required.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a8be1-175">次の手順</span><span class="sxs-lookup"><span data-stu-id="a8be1-175">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="a8be1-176">Azure App Service への ASP.NET Web アプリケーションの移行</span><span class="sxs-lookup"><span data-stu-id="a8be1-176">Migrate an ASP.NET web application to Azure App Service</span></span>](dotnet-howto-migrate-app-service.md)